/* -----------------------------------------------------------------------------
 *
 * Layouts: Layout Types
 *
 * Example Markup:
 *
 * <div class="site-grid__row">
 *	  <div class="site-grid__container">
 *		 <div class="site-grid__layout site-grid__layout--2-col">
 *			<div class="site-grid__col">
 *				<p>Component</p>
 *			</div>
 *			<div class="site-grid__col">
 *				<p>Component</p>
 *			</div>
 *		 </div>
 *	  </div>
 * </div>
 *
 * ----------------------------------------------------------------------------- */

.site-grid__layout {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
	width: 100%;

	> .site-grid__col {
		flex: none;
		margin: 0 var(--grid-gutter-small) var(--grid-gutter-small) 0;

		@media (--viewport-medium) {
			margin: 0 var(--grid-gutter) var(--grid-gutter) 0;
		}
	}
}

/* -----------------------------------------------------------------------------
 * Grid: Center columns in layout.
 * ----------------------------------------------------------------------------- */

.site-grid__layout--center {
	justify-content: center;
}

/* Layout: Two Column Small (Mobile) */

.site-grid__layout--2-col-sm {

	> .site-grid__col {
		width: calc(50% - (var(--grid-gutter-small) - (var(--grid-gutter-small) / 2)));

		&:nth-child(2n) {
			margin-right: 0;
		}

		&:last-child {
			margin-right: 0;
		}
	}
}

/* Layout: Two Column */

.site-grid__layout--2-col {

	> .site-grid__col {
		@media (--viewport-medium) {
			width: calc(50% - (var(--grid-gutter) - (var(--grid-gutter) / 2)));

			&:nth-child(2n) {
				margin-right: 0;
			}

			&:last-child {
				margin-right: 0;
			}
		}
	}
}

/* Layout: Three Column */

.site-grid__layout--3-col {

	> .site-grid__col {
		@media (--viewport-medium) {
			width: calc(100% / 3 - (var(--grid-gutter) - (var(--grid-gutter) / 3)));

			&:nth-child(3n) {
				margin-right: 0;
			}

			&:last-child {
				margin-right: 0;
			}
		}
	}
}

/* Layout: Four Column */

.site-grid__layout--4-col {

	> .site-grid__col {
		@media (--viewport-medium) {
			width: calc(25% - (var(--grid-gutter) - (var(--grid-gutter) / 4)));

			&:nth-child(2n) {
				/* Handles the two column small class if added to 4 column layout. */
				margin-right: var(--grid-gutter);
			}

			&:nth-child(4n) {
				margin-right: 0;
			}

			&:last-child {
				margin-right: 0;
			}
		}
	}
}

/* Layout: Sidebar */

.site-grid__layout--sidebar-right {

	> .site-grid__col {

		&:first-child {
			@media (--viewport-full) {
				margin-right: var(--grid-gutter);
				width: calc(70% - (var(--grid-gutter) - (var(--grid-gutter) / 2)));
			}
		}

		&:last-child {
			@media (--viewport-full) {
				width: calc(30% - (var(--grid-gutter) - (var(--grid-gutter) / 2)));
			}
		}
	}
}

/* Layout: Sidebar Left */

.site-grid__layout--sidebar-left {
	flex-direction: row;
	flex-wrap: wrap;

	> .site-grid__col {

		&:first-child {
			@media (--viewport-full) {
				margin-right: var(--grid-gutter);
				width: calc(30% - (var(--grid-gutter) - (var(--grid-gutter) / 2)));
			}
		}

		&:last-child {
			@media (--viewport-full) {
				width: calc(70% - (var(--grid-gutter) - (var(--grid-gutter) / 2)));
			}
		}
	}
}
